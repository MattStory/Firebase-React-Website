(this["webpackJsonpcc-working"]=this["webpackJsonpcc-working"]||[]).push([[0],{293:function(e,t,a){e.exports=a(627)},298:function(e,t,a){},305:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){},543:function(e,t,a){},544:function(e,t,a){},627:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),o=a.n(r),c=(a(298),a(9)),i=a(10),s=a(11),u=a(12),d=a(5),m=a(42),p=a(4),h=a(20),f=Object(p.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){return l.a.createElement("div",{id:"signedIn"},l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/messages",className:"btn btn -floating green lighten-1"},"Support")),l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/create",className:"btn btn -floating green lighten-1"},"New Post")),l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/alerts",className:"btn btn -floating green lighten-1"},"Alerts")),l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/financials",className:"btn btn -floating green lighten-1"},"Financials")),l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/transactions",className:"btn btn -floating green lighten-1"},"Transactions")),l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/payments",className:"btn btn -floating green lighten-1"},"Payments")),l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/visualizations",className:"btn btn -floating green lighten-1"},"Visualizations")," "),l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/memos",className:"btn btn -floating green lighten-1"},"Memos")," "),l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/profile",className:"btn btn -floating green lighten-1"},"Profile")),l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/signin",className:"btn btn -floating green lighten-1",onClick:e.signOut},"Log Out")))})),g=function(){return l.a.createElement("div",null,l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/signup",className:"btn btn -floating green lighten-1"},"SignUp")),l.a.createElement(h.a.Item,null,l.a.createElement(d.c,{to:"/signin",className:"btn btn -floating green lighten-1"},"Log In")))},b=a(289),E=(a(305),Object(p.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,a=e.profile,n=t.uid?l.a.createElement(f,{profile:a}):l.a.createElement(g,null);return l.a.createElement("nav",{className:"nav-wrapper grey darken-3"},l.a.createElement("div",{className:"container"},l.a.createElement(d.b,{to:"/",className:"brand-logo"},"CC"),l.a.createElement("div",{id:"dropbtn"},l.a.createElement(b.a,{id:"dropdown-basic-button",title:"Menu"},t.isLoaded&&n))))}))),v=function(e){return l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"card z-depth-0"},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title"},"Notifications"),l.a.createElement("ul",{className:"notifications"},l.a.createElement("li",null,"Notification"),l.a.createElement("li",null,"Notification"),l.a.createElement("li",null,"Notification"),l.a.createElement("li",null,"Notification")))))},y=a(38),N=a.n(y),C=function(e){var t=e.project;return l.a.createElement("div",{className:"card z-depth-0 project-summary"},l.a.createElement("div",{className:"card-content grey-text text-darken-3"},l.a.createElement("span",{className:"card-title"},t.title),l.a.createElement("p",null,"Posted by ",t.authorFirstName," ",t.authorLastName),l.a.createElement("p",{className:"grey-text"},N()(t.createdAt.toDate()).calendar())))},S=function(e){var t=e.projects;return l.a.createElement("div",{className:"project-list section"},t&&t.map((function(e){return l.a.createElement(d.b,{to:"/project/"+e.id,key:e.id},l.a.createElement(C,{project:e}))})))},w=a(13),F=a(7),O=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.projects;return e.auth.uid?l.a.createElement("div",{className:"dashboard container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 m6"},l.a.createElement(S,{projects:t})),l.a.createElement("div",{className:"col s12 m5 offset-m1"},l.a.createElement(v,null)))):l.a.createElement(m.a,{to:"/signin"})}}]),a}(n.Component),A=Object(F.d)(Object(p.b)((function(e){return{projects:e.firestore.ordered.projects,auth:e.firebase.auth}})),Object(w.firestoreConnect)([{collection:"projects"}]))(O),k=Object(F.d)(Object(p.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.projects;return{project:n?n[a]:null,auth:e.firebase.auth}})),Object(w.firestoreConnect)([{collection:"projects"}]))((function(e){var t=e.project;return e.auth.uid?t?l.a.createElement("div",{className:"container section project-details"},l.a.createElement("div",{className:"card z-depth-0"},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title"},t.title),l.a.createElement("p",null,t.content)),l.a.createElement("div",{className:" card-action.grey.lighten-4 grey-text"},l.a.createElement("div",null,"Posted by ",t.authorFirstName," ",t.authorLastName),l.a.createElement("div",null,N()(t.createdAt.toDate()).calendar())))):l.a.createElement("div",{className:"container center"},l.a.createElement("p",null,"Loading memo...")):l.a.createElement(m.a,{to:"/signin"})})),T=a(14),x=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(T.a)({},t.target.id,t.target.value))},e.handelSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?l.a.createElement(m.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handelSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green lighten-1 z-depth-0"},"Login"),l.a.createElement("div",{className:"red-text center"},t?l.a.createElement("p",null,t):null)),l.a.createElement(d.b,{to:"/reset",className:"btn btn-primary"},"Reset Password"),l.a.createElement(d.b,{to:"/google",className:"btn btn-primary"},"Sign In with Google")))}}]),a}(n.Component),j=Object(p.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(x),D=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:"",firstName:"",lastName:"",address:"",studentId:"",phone:""},e.handleChange=function(t){e.setState(Object(T.a)({},t.target.id,t.target.value))},e.handelSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?l.a.createElement(m.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handelSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"phone"},"Phone Number"),l.a.createElement("input",{type:"tel",id:"phone",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"address"},"Address"),l.a.createElement("input",{type:"text",id:"address",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"studentId"},"StudentId"),l.a.createElement("input",{type:"text",id:"studentId",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green lighten-1 z-depth-0"},"Register"),l.a.createElement("div",{className:"red-text center"},a?l.a.createElement("p",null,a):null))))}}]),a}(n.Component),R=Object(p.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var l=n.getFirebase,r=n.getFirestore,o=l(),c=r();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return o.auth().currentUser.sendEmailVerification(),c.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,email:e.email,address:e.address,phone:e.phone,studentId:e.studentId})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(D),I=a(21),M=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={title:"",content:""},e.handleChange=function(t){e.setState(Object(T.a)({},t.target.id,t.target.value))},e.handelSubmit=function(t){t.preventDefault(),e.props.createProject(e.state),e.props.history.push("/")},e}return Object(i.a)(a,[{key:"render",value:function(){return"Rs5NBrhOlTSsKBurH9JnfpTpxUO2"!==this.props.auth.uid.toString()?l.a.createElement(m.a,{to:"/signin"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handelSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Post"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"content"},"Content"),l.a.createElement("textarea",{id:"content",className:"materialize-textarea",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green lighten-1 z-depth-0"},"Create"))))}}]),a}(n.Component),P=Object(p.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createProject:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var l=(0,n.getFirestore)(),r=a().firebase.profile,o=a().firebase.auth.uid;console.log(a().firebase.auth.userEmail),l.collection("projects").add(Object(I.a)({},e,{authorFirstName:r.firstName,authorLastName:r.lastName,authorId:o,createdAt:new Date})).then((function(){t({type:"CREATE_PROJECT",project:e})})).catch((function(e){t({type:"CREATE_PROJECT_ERROR",err:e})}))}}(t))}}}))(M),L=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:"",firstName:"",lastName:"",phone:"",studentId:"",address:""},e.handleChange=function(t){e.setState(Object(T.a)({},t.target.id,t.target.value))},e.handelSubmit=function(t){t.preventDefault(),e.props.updateProfile(e.state),e.props.history.push("/")},e}return Object(i.a)(a,[{key:"render",value:function(){return this.props.auth.uid?l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handelSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Profile"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"phone"},"Phone Number"),l.a.createElement("input",{type:"tel",id:"phone",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"studentId"},"Student Id"),l.a.createElement("input",{type:"text",id:"studentId",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"address"},"Address"),l.a.createElement("input",{type:"text",id:"address",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green lighten-1 z-depth-0"},"Update")))):l.a.createElement(m.a,{to:"/signin"})}}]),a}(n.Component),_=Object(p.b)((function(e){return{userProfile:e.firebase.userProfile,auth:e.firebase.auth}}),(function(e){return{updateProfile:function(t){return e(function(e){return function(t,a,n){var l=n.getFirebase,r=n.getFirestore,o=(l(),r()),c=a().firebase.auth.uid;o.collection("users").doc(c).update({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,address:e.address,studentId:e.studentId}).then((function(){t({type:"UPDATE_SUCCESS",userProfile:e}),alert("update success")})).catch((function(e){t({type:"UPDATE_ERROR",err:e}),alert("update failure")}))}}(t))}}}))(L),B=(a(453),function(e){var t=e.fund;return l.a.createElement("div",{className:"card z-depth-0 fund-summary"},l.a.createElement("div",{className:"card-content grey-text text-darken-3"},l.a.createElement("span",{className:"card-title"},t.fundType+": "+t.nickname),l.a.createElement("p",null,"Balance: $",t.balance),l.a.createElement("p",{className:"grey-text"},N()(t.createdAt.toDate()).calendar())))}),U=function(e){var t=e.funds;return l.a.createElement("div",{className:"fund-list section"},t&&t.map((function(e){return l.a.createElement(B,{fund:e,key:e.id})})))},z=function(e){return function(t,a,n){n.getFirebase;var l=(0,n.getFirestore)(),r=a().firebase.profile,o=a().firebase.auth.uid;console.log(e),l.collection("funds").doc(e.fundSelected).set({nickname:e.nickname?e.nickname:"",balance:e.balance?e.balance:0,lowBalanceLimit:e.lowBalanceLimit?e.lowBalanceLimit:0,largeTransacationLimit:e.largeTransactionLimit?e.largeTransactionLimit:0,spendingLimit:e.spendingLimit?e.spendingLimit:0,fundType:e.fundType?e.fundType:"PayPal",owner:r.firstName+" "+r.lastName,uid:o,createdAt:new Date}).then((function(){t({type:"SET_FUND",fund:e})})).catch((function(e){t({type:"SET_FUND_ERR"},e)}))}},G=(a(454),a(25)),J=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={nickname:"",balance:0,lowBalanceLimit:0,largeTransactionLimit:0,spendingLimit:0,fundType:"PayPal"},e.handleChange=function(t){e.setState(Object(T.a)({},t.target.id,t.target.value))},e.handleSelectChange=function(t){e.setState({fundType:t.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.createFund(e.state),alert("fund created")},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Create a New Fund"),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"text",id:"nickname",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"nickname"},"Nickname")),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"number",id:"balance",onChange:this.handleChange,required:!0}),l.a.createElement("label",{htmlFor:"balance"},"Balance")),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"number",id:"lowBalanceLimit",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"lowBalanceLimit"},"Low Balance Limit")),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"text",id:"largeTransactionLimit",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"largeTransactionLimit"},"Large Transaction Limit")),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"text",id:"spendingLimit",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"spendingLimit"},"Spending Limit")),l.a.createElement("div",{className:"input-field"},l.a.createElement(G.a,{className:"fundtype",name:"fundtype",placeholder:"Fund Type",options:[{value:"PayPal",label:"PayPal"},{value:"Dining Dollar",label:"Dining Dollar"},{value:"Boiler Express",label:"Boiler Express"},{value:"Financial Aid",label:"Financial Aid"},{value:"Bank",label:"Bank"}],onChange:this.handleSelectChange,defaultValue:{value:"paypal",label:"PayPal"}})),l.a.createElement("div",{className:"input-field"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("button",{className:"btn green lighten-1"},"Create")),l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("button",{className:"btn white black-text lighten-1",onClick:this.props.closePopup},"Cancel"))))))}}]),a}(n.Component),W=Object(p.b)(null,(function(e){return{createFund:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var l=(0,n.getFirestore)(),r=a().firebase.profile,o=a().firebase.auth.uid;l.collection("funds").add(Object(I.a)({},e,{owner:r.firstName+" "+r.lastName,uid:o,createdAt:new Date})).then((function(){t({type:"CREATE_FUND",fund:e})})).catch((function(e){t({type:"CREATE_FUND_ERR"},e)}))}}(t))}}}))(J),V="https://finnhub.io/api/v1/quote?token=bq4lq1frh5rc5os3t7vg",K=a(80),Y=a.n(K),q=(a(251),a(81)),H=a.n(q),$=a(177),Q=a.n($),Z=a(22),X=a.n(Z),ee=[{dataField:"symbol",order:"desc"}],te=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(T.a)({},e.target.id,e.target.value))},n.handleEdit=function(e){e.preventDefault(),n.props.editFund(n.state)},n.handleDel=function(e){e.preventDefault(),n.props.delFund(n.state)},n.handleSelectChange=function(e){n.setState({fundSelected:e.value})},n.handleEditSelectChange=function(e){n.setState({fundType:e.value})},n.handleGetStock=function(e){e.preventDefault(),n.props.getStock(n.state.symbol)},n.handleGetStocks=function(e){n.props.getStocks(e)},n.handleNewStock=function(e){e.preventDefault(),n.props.newStock(n.state.newSymbol)},n.handleDeleteStocks=function(e){e.preventDefault(),null===n.state||void 0===n.state.rowsSelected||0===n.state.rowsSelected.length?alert("Oops! No stock selected to delete!"):n.props.deleteStocks(n.state.rowsSelected)},n.columns=[{dataField:"id",hidden:!0,text:""},{dataField:"symbol",sort:!0,text:""},{dataField:"currentPrice",formatter:function(e){return"$"+e.toFixed(2)},text:"",editable:!1},{dataField:"priceDiff",formatter:function(e){return void 0===e?"":(e=e.toFixed(2))>=0?l.a.createElement("label",{className:"green-text",style:{fontSize:"15px"}},"+",e):l.a.createElement("label",{className:"red-text",style:{fontSize:"15px"}},e)},text:"",editable:!1}],n.state={showCreateFund:!1,showEditFund:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e={inDuration:250,outDuration:250,opacity:.5,dismissible:!0,startingTop:"4%",endingTop:"10%"};X.a.Modal.init(this.newStockModal,e),X.a.Modal.init(this.deleteModal,e),this.exportForm=l.a.createRef()}},{key:"toggleCreateFund",value:function(){this.setState({showCreateFund:!this.state.showCreateFund})}},{key:"handleSelectRow",value:function(e,t){if(null===this.state||void 0===this.state.rowsSelected){var a=[e];this.setState({rowsSelected:a})}else{var n=this.state.rowsSelected;if(t)n.push(e);else{var l=n.indexOf(e);l>-1&&n.splice(l,1)}this.setState({rowsSelected:n})}}},{key:"render",value:function(){var e=this,t=this.props.auth;if(t.isLoaded&&t.isEmpty)return l.a.createElement(m.a,{to:"/signin"});var a,n,r=this.props.funds,o=[];if(null!=this.props.funds&&r.forEach((function(e){e.uid===t.uid&&o.push(e)})),a=o.map((function(e){return{label:e.fundType+": "+e.nickname,value:e.id}})),this.props.stock&&this.props.stock.priceDiff>=0?n=l.a.createElement("div",null,l.a.createElement("h6",{className:"grey-text text-darken-3"},this.props.stock.symbol,": $",this.props.stock.currentPrice,", Since Open: "),l.a.createElement("h6",{className:"h6 green-text inline"},"+",this.props.stock.priceDiff.toFixed(2))):this.props.stock&&this.props.stock.priceDiff<0&&(n=l.a.createElement("div",null,l.a.createElement("h6",{className:"h4 grey-text text-darken-3"},this.props.stock.symbol,": $",this.props.stock.currentPrice,", Since Open: "),l.a.createElement("h6",{className:"h6 red-text inline"},this.props.stock.priceDiff.toFixed(2)))),void 0!==this.props.favStocks&&null===this.props.favStockPrices||this.lastFavStocks!==this.props.favStocks){var c=[];this.lastFavStocks=this.props.favStocks,this.props.favStocks.forEach((function(e){c.push(e)})),this.handleGetStocks(c)}return l.a.createElement("div",{className:"container mt-10"},l.a.createElement("div",{className:"card z-depth-0"},this.state.showCreateFund?l.a.createElement(W,{closePopup:this.toggleCreateFund.bind(this)}):l.a.createElement("div",{className:"container center"},l.a.createElement("button",{className:"btn green lighten-1 center mt-10 mb-10",onClick:this.toggleCreateFund.bind(this)},"New Financial Account"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 m6"},0===o.length?null:l.a.createElement(U,{funds:o}),0===o.length?null:l.a.createElement("div",{className:"card z-depth-0 fund-operation"},l.a.createElement("div",{className:"card-content grey-text text-darken-3"},l.a.createElement(G.a,{className:"funds",name:"funds",onChange:this.handleSelectChange,options:a}),l.a.createElement("div",{className:"container"},l.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"text",id:"nickname",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"nickname"},"Nickname")),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"number",id:"balance",onChange:this.handleChange,required:!0}),l.a.createElement("label",{htmlFor:"balance"},"Balance")),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"number",id:"lowBalanceLimit",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"lowBalanceLimit"},"Low Balance Limit")),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"text",id:"largeTransactionLimit",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"largeTransactionLimit"},"Large Transaction Limit")),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"text",id:"spendingLimit",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"spendingLimit"},"Spending Limit")),l.a.createElement("div",{className:"input-field"},l.a.createElement(G.a,{className:"fundtype",name:"fundtype",placeholder:"Fund Type",options:[{value:"PayPal",label:"PayPal"},{value:"Dining Dollar",label:"Dining Dollar"},{value:"Boiler Express",label:"Boiler Express"},{value:"Financial Aid",label:"Financial Aid"},{value:"Bank",label:"Bank"}],onChange:this.handleEditSelectChange,defaultValue:{value:"paypal",label:"PayPal"}}))),l.a.createElement("button",{className:"btn green lighten-1",onClick:this.handleEdit},"Edit Account"))))),l.a.createElement("div",{className:"col s12 m6"},l.a.createElement("div",{className:"card z-depth-0"},l.a.createElement("div",{className:"container center"},l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"text",id:"symbol",className:"center",onChange:this.handleChange,style:{marginTop:"10%"}}),l.a.createElement("label",{htmlFor:"symbol",style:{marginTop:"10%"}},"Stock Symbol to Query")),l.a.createElement("button",{className:"btn green lighten-1 center",onClick:this.handleGetStock},"Get Stock Symbol"),l.a.createElement("div",null,n),null!==this.props.favStockPrices?l.a.createElement(Y.a,{keyField:"id",data:this.props.favStockPrices,columns:this.columns,selectRow:{mode:"checkbox",bgColor:"#68DE11",selectColumnStyle:{backgroundColor:"#68DE11"},onSelect:function(t,a,n,l){e.handleSelectRow(t.id,a)}},defaultSorted:ee,noDataIndication:"No Stocks"}):null,l.a.createElement("button",{"data-target":"newStockModal",className:"btn modal-trigger green lighten-1 ms-5",style:{margin:"10%"}},"+"),l.a.createElement("button",{"data-target":"deleteModal",className:"btn modal-trigger green lighten-1",style:{margin:"10%"}},"Delete..."),l.a.createElement("div",null,l.a.createElement("div",{ref:function(t){e.newStockModal=t},id:"newStockModal",className:"modal"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("form",null,l.a.createElement("h4",{className:"grey-text text-darken-3"},"New stock symbol"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"text",id:"newSymbol",onChange:this.handleChange,required:!0}),l.a.createElement("label",{htmlFor:"newSymbol"},"Symbol")),l.a.createElement("button",{className:"modal-close btn green lighten-1",onClick:this.handleNewStock},"Save"),l.a.createElement("a",{className:"modal-close btn grey darken-3 white-text",style:{marginLeft:"2%"}},"Cancel")))))),l.a.createElement("div",null,l.a.createElement("div",{ref:function(t){e.deleteModal=t},id:"deleteModal",className:"modal"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("form",null,l.a.createElement("h4",{className:"grey-text text-darken-3"},"Confirm to delete?"),l.a.createElement("h6",{className:"black-txt"},"This operation is irreversible."),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{className:"modal-close btn red lighten-1",onClick:this.handleDeleteStocks},"Delete"),l.a.createElement("a",{className:"modal-close btn grey darken-3 white-text",style:{marginLeft:"2%"}},"Cancel")))))))))))}}]),a}(n.Component),ae=Object(F.d)(Object(p.b)((function(e){return{funds:e.firestore.ordered.funds,auth:e.firebase.auth,stock:e.stock,favStocks:e.firestore.ordered.favStocks,favStockPrices:e.favStockPrices}}),(function(e){return{editFund:function(t){return e(z(t))},getStock:function(t){return e(function(e){return function(t,a){var n=new URL(V);n.searchParams.append("symbol",e),fetch(n,{method:"GET"}).then((function(e){return e.json()})).then((function(a){t({type:"GET_STOCK",stock:{symbol:e,currentPrice:a.c,openingPrice:a.o,priceDiff:a.c-a.o}})})).catch((function(e){t({type:"GET_STOCK_ERR",err:e})}))}}(t))},getStocks:function(t){return e((a=t,function(e,t){var n=[],l=a.map((function(e){var t=new URL(V);return t.searchParams.append("symbol",e.symbol),fetch(t,{method:"GET"}).then((function(t){return t.json().then((function(t){n.push({id:e.id,symbol:e.symbol,currentPrice:t.c,openingPrice:t.o,priceDiff:t.c-t.o})})),t}))}));Promise.all(l).then((function(){e({type:"GET_FAV_STOCK_PRICES",favStockPrices:n})})).catch((function(t){e({type:"GET_STOCK_ERR",err:t})}))}));var a},newStock:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var l=(0,n.getFirestore)(),r=a().firebase.auth.uid,o=a().firebase.profile,c=l.collection("stocks").doc(r);c.get().then((function(a){a.exists||c.set({owner:o.firstName+" "+o.lastName}),(c=c.collection("favoriteStocks")).add({symbol:e}).then((function(){t({type:"CREATE_STOCK",symbol:e})})).catch((function(e){t({type:"CREATE_STOCK_ERR"},e),alert("Create new stock symbol failed.\n"+e.message)}))})).catch((function(e){console.log("Error getting document: ",e),alert("Error getting document, please contact administrator.")}))}}(t))},deleteStocks:function(t){return e((a=t,function(e,t,n){n.getFirebase;var l=(0,n.getFirestore)(),r=t().firebase.auth.uid,o=(t().firebase.profile,l.collection("stocks").doc(r).collection("favoriteStocks"));a.forEach((function(t){o.doc(t).delete().then(e({type:"DELETE_STOCK"})).catch((function(t){e({type:"DELETE_STOCK_ERR"},t)}))}))}));var a}}})),Object(w.firestoreConnect)((function(e){return"undefined"!=typeof e.auth.uid?[{collection:"funds",storeAs:"funds"},{collection:"stocks",doc:e.auth.uid,subcollections:[{collection:"favoriteStocks"}],storeAs:"favStocks"}]:[{collection:"funds",storeAs:"funds"}]})))(te),ne=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={email:""},e.handleChange=function(t){e.setState(Object(T.a)({},t.target.id,t.target.value))},e.handelSubmit=function(t){t.preventDefault(),e.props.resetPassword(e.state.email),e.props.history.push("/SignIn")},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;e.auth;return l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handelSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Reset Password"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green lighten-1 z-depth-0"},"Reset"),l.a.createElement("div",{className:"red-text center"},t?l.a.createElement("p",null,t):null))))}}]),a}(n.Component),le=Object(p.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{resetPassword:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().auth().sendPasswordResetEmail(e).then((function(){})).catch((function(e){}))}}(t))}}}))(ne),re=Object(F.d)(Object(p.b)(null,(function(e){return{deleting:function(t){var a;e((a=t,function(e,t,n){n.getFirebase;var l=(0,n.getFirestore)();t().firebase.profile,t().firebase.auth.uid,l.collection("memos").doc(a).delete().then((function(){e({type:"DELTE_MEM_DOC",mem:a})})).catch((function(t){e({type:"CREATE_MEM_ERR"},t)}))}))}}})))((function(e){var t=e.data;if(t){var a=t.map((function(t){return l.a.createElement("div",{className:"container section project-details"},l.a.createElement("div",{className:"card z-depth-0",id:t.id},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title"},t.title),l.a.createElement("p",null,t.content)),l.a.createElement("div",{className:" card-action.grey.lighten-4 grey-text"},l.a.createElement("div",null,"Posted by ",t.owner),l.a.createElement("div",null,N()(t.createdAt.toDate()).calendar()))),l.a.createElement("button",{onClick:function(){var a;a=t.id,e.deleting(a)}},"Delete"))}));return l.a.createElement("div",null,a)}return l.a.createElement("div",{className:"container center"},l.a.createElement("p",null,"Loading memo..."))})),oe=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={title:"",content:""},e.handleChange=function(t){e.setState(Object(T.a)({},t.target.id,t.target.value))},e.handelSubmit=function(t){t.preventDefault(),e.props.creatememo(e.state),e.setState({title:"",content:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=void 0;return void 0!==this.props.memos&&(t=this.props.memos.filter((function(t){return e.props.auth.uid===t.uid}))),l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handelSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Memos"),l.a.createElement("div",{id:"title",className:"input-field"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange,value:this.state.title})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"content"},"Content"),l.a.createElement("textarea",{id:"content",className:"materialize-textarea",onChange:this.handleChange,value:this.state.content})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green lighten-1 z-depth-0"},"Create"))),l.a.createElement(re,{data:t}))}}]),a}(n.Component),ce=Object(F.d)(Object(p.b)((function(e){return{memos:e.firestore.ordered.memos,auth:e.firebase.auth}}),(function(e){return{creatememo:function(t){var a;e((a=t,function(e,t,n){n.getFirebase;var l=(0,n.getFirestore)(),r=t().firebase.profile,o=t().firebase.auth.uid;l.collection("memos").add(Object(I.a)({},a,{owner:r.firstName+" "+r.lastName,uid:o,createdAt:new Date})).then((function(){e({type:"CREATE_MEM",mem:a})})).catch((function(t){e({type:"CREATE_FUND_ERR"},t)}))}))}}})),Object(w.firestoreConnect)((function(e){return"undefined"!=typeof e.auth.uid?[{collection:"memos",where:["uid","==",e.auth.uid]}]:[]})))(oe),ie=a(290),se=a.n(ie),ue=Object(F.d)(Object(p.b)(null,(function(e){return{closing:function(t){var a;e((a=t,function(e,t,n){n.getFirebase;var l=(0,n.getFirestore)(),r=t().firebase.auth.uid.toString();l.collection("supportTickets").doc(r).collection("userTickets").doc(a).delete().then((function(){e({type:"CLOSE_TICKET",docID:a})})).catch((function(t){e({type:"CLOSE_TICKET_ERR"},t)}))}))}}})))((function(e){console.log("retrieving tickets from props");var t=e.tickets;if(console.log(t),t){var a=t.map((function(t){return l.a.createElement("div",{className:"container section project-details"},l.a.createElement("div",{className:"card z-depth-0",id:t.id},l.a.createElement("div",{className:"card-content"},l.a.createElement("p",null,t.content)),l.a.createElement("div",{className:" card-action.grey.lighten-4 grey-text"},l.a.createElement("div",null,"Opened by ",t.email))),l.a.createElement("button",{onClick:function(){var a;a=t.id,e.closing(a)}},"Close Ticket"))}));return l.a.createElement("div",null,a)}return l.a.createElement("div",{className:"container center"},l.a.createElement("p",null,"No open tickets"))})),de=(a(521),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={content:"",email:""},e.handleChange=function(t){e.setState(Object(T.a)({},t.target.id,t.target.value))},e.handleClose=function(t){t.preventDefault(),e.props.closeThread(e.props.auth.uid)},e.handelSubmit=function(t){t.preventDefault(),e.props.createMessage(e.state),se.a.post("https://us-central1-college-capital-ed06f.cloudfunctions.net/submit",e.state).catch((function(e){console.log(e)})),e.setState({content:"",email:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this.props.auth;return t.uid?(this.state.email=t.email,console.log(this.props),console.log(this.props.supportTickets),void 0!=this.props.supportTickets&&(e=this.props.supportTickets),console.log(e),l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handelSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Message Support"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"content"},"Enter Message Here"),l.a.createElement("input",{type:"text",value:this.state.content,id:"content",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green lighten-1 z-depth-0"},"Send New Ticket"))),null!=this.props.supportTickets?l.a.createElement(ue,{tickets:e}):console.log("not rendering"))):l.a.createElement(m.a,{to:"/signin"})}}]),a}(n.Component)),me=Object(F.d)(Object(p.b)((function(e){return{supportTickets:e.firestore.ordered.supportTickets,auth:e.firebase.auth}}),(function(e){return{createMessage:function(t){var a;e((a=t,function(e,t,n){n.getFirebase;var l,r=(0,n.getFirestore)(),o=t().firebase.auth.uid.toString(),c=t().firebase.profile;(l=r.collection("supportTickets").doc(o)).get().then((function(e){e.exists||l.set({user:c.firstName,userID:o})})),l.collection("userTickets").add(Object(I.a)({},a,{msgTime:new Date,uid:o,email:c.email})).then((function(){e({type:"CREATE_TICKET",newMsg:a})})).catch((function(t){e({type:"CREATE_TICKET_ERR"},t)}))}))}}})),Object(w.firestoreConnect)((function(e){return"undefined"!=typeof e.auth.uid?[{collection:"supportTickets",doc:e.auth.uid,subcollections:[{collection:"userTickets"}],storeAs:"supportTickets"}]:[]})))(de);a(522);function pe(e,t,a){e&&t.unshift(e);var n=function(e){for(var t="object"!=typeof e?JSON.parse(e):e,a="",n=0;n<t.length;n++){var l="";for(var r in t[n])""!=l&&(l+=","),l+=JSON.stringify(t[n][r]);a+=l+"\r\n"}return a}(JSON.stringify(t)),l=a+".csv"||!1,r=new Blob([n],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(r,l);else{var o=document.createElement("a");if(void 0!==o.download){var c=URL.createObjectURL(r);o.setAttribute("href",c),o.setAttribute("download",l),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}}}function he(e){var t=[];for(var a in e)e[a]instanceof Object&&t.push({"Transaction Date":e[a].transactionDate,Merchant:e[a].merchant,Amount:e[a].amount});return t}function fe(e){var t=JSON.stringify(he(e));delete t.createdAt;var a="data:application/json;charset=utf-8,"+encodeURIComponent(t),n=new Date,l="transactions-"+(n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate())+".json",r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download",l),r.click()}function ge(e){var t=he(e),a=Object.keys(t[0]),n=new Date;pe(a,t,"transactions-"+(n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()))}var be=function(e,t){return function(a,n,l){l.getFirebase;var r=(0,l.getFirestore)(),o=n().firebase.auth.uid,c=n().firebase.profile,i=r.collection("transactions").doc(o),s=e.transactionDate.split("-");e.transactionDate=s[1]+"/"+s[2]+"/"+s[0],i.get().then((function(t){t.exists||i.set({owner:c.firstName+" "+c.lastName}),(i=i.collection("userTransactions")).add({amount:e.amount,merchant:e.merchant,transactionCategory:e.transactionCategory,transactionDate:e.transactionDate,financialAccounts:[{account:e.financialAcct,percentage:100}],createdAt:new Date,editedAt:new Date}).then((function(){a({type:"CREATE_FUND",transaction:e})})).catch((function(e){a({type:"CREATE_FUND_ERR"},e),alert("Create transaction failed.\n"+e.message)}))})).then((function(e){t.push("/transactions")})).catch((function(e){console.log("Error getting document:",e)})),r.collection("funds").doc(e.financialAcct).update({balance:e.acctBalance-e.amount}).catch((function(e){console.log("Error updating document:",e)})),r.collection("transactions").doc(o).collection("customCategories").get().then((function(t){t.forEach((function(t){if(t.data().category==e.transactionCategory){var a,n=t.data().spendingTotal;if(a=void 0!==n?parseInt(n)+parseInt(e.amount):parseInt(e.amount),t.ref.update({spendingTotal:a}),a>parseInt(t.data().limit)){var l=r.collection("alerts").doc(o);l.get().then((function(e){e.exists||l.set({userID:o})})),l.collection("userAlerts").add({category:e.transactionCategory,amount:e.amount,limit:parseInt(t.data().limit),catSpent:a,alertType:"CATEGORY SPENDING ALERT"})}}}))}))}},Ee=a(117),ve=a.n(Ee),ye=(a(244),a(250),function(e){return function(t,a,n){n.getFirebase;var l=(0,n.getFirestore)(),r=a().firebase.profile,o=a().firebase.auth.uid;l.collection("payments").add(Object(I.a)({},e,{owner:r.firstName+" "+r.lastName,uid:o,createdAt:new Date})).then((function(){t({type:"CREATE_PAYMENT",mem:e})})).catch((function(e){t({type:"CREATE_PAYMENT_ERR"},e)}))}}),Ne=function(e){return function(t,a,n){n.getFirebase;var l=(0,n.getFirestore)();a().firebase.profile,a().firebase.auth.uid;l.collection("payments").doc(e).delete().then((function(){t({type:"DELTE_PAYMENT_DOC",mem:e})})).catch((function(e){t({type:"DELETE_PAYMENT_ERR"},e)}))}},Ce=(a(537),Ee.Search.SearchBar),Se=Ee.Search.ClearSearchButton,we={sizePerPage:10,hideSizePerPage:!0,withFirstAndLast:!1,hidePageListOnlyOnePage:!0},Fe=[{dataField:"transactionDate",order:"desc"}],Oe={mode:"click",blurToSave:!0},Ae=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleExport=function(e){if(n.exportForm.current.reportValidity()){e.preventDefault();var t=[];if("export-all"===e.target.id)t=n.props.transactions;else if("export-selected"===e.target.id){if(void 0===n.state.rowsSelected)return void alert("Oops! No row selected to export!");n.state.rowsSelected.forEach((function(e){var a=n.props.transactions.find((function(t){return t.id===e}));t.push(a)}))}switch(n.state.exportOption){case"json":fe(t);break;case"csv":ge(t)}X.a.Modal.getInstance(n.exportModal).close()}},n.handleExportOptionChange=function(e){n.setState({exportOption:e.target.value})},n.handleDeleteTransactions=function(e){e.preventDefault(),null===n.state||void 0===n.state.rowsSelected||0===n.state.rowsSelected.length?alert("Oops! No row selected to delete!"):n.props.deleteTransactions(n.state.rowsSelected)},n.onTableChange=function(e,t){if("cellEdit"===e){var a={id:t.cellEdit.rowId,dataField:t.cellEdit.dataField,newValue:t.cellEdit.newValue};if("transactionDate"===a.dataField){var l=a.newValue.split("-");a.newValue=l[1]+"/"+l[2]+"/"+l[0]}n.props.updateTransaction(a)}},n.accountFormatter=function(e){if(void 0===n.props.userFunds)return"";var t=[];return e.forEach((function(e){var a=n.props.userFunds.find((function(t){return t.id===e.account}));t.push(l.a.createElement("ul",{key:a.id},a.nickname," ",a.fundType,", ",e.percentage,"%"))})),l.a.createElement("div",null,t)},n.getAccountOptions=function(){var e=[];return n.props.userFunds.forEach((function(t){var a={},n=t.nickname+" "+t.fundType+", Balance: $"+t.balance,l=t.id;a.label=n,a.value=l,e.push(a)})),e},n.categoryFormatter=function(e){if(void 0===n.props.userCategories)return"";var t=n.props.userCategories.find((function(t){return t.category===e}));return console.log("targetCategory: "+t),l.a.createElement("span",null,t.category)},n.getCategoryOptions=function(){var e=[];return n.props.userCategories.forEach((function(t){var a={},n=t.category,l=t.category;a.label=n,a.value=l,e.push(a)})),e},n.handleChange=function(e){n.setState(Object(T.a)({},e.target.id,e.target.value))},n.handleSelectChange=function(e,t){var a;a="splitAccount"===e?{splitAccountID:t.value,splitAccount:t.label}:Object(T.a)({},e,t.value),n.setState(a)},n.handleNewSplitAccount=function(e){e.preventDefault();var t=100;if(n.state.splitAccounts.forEach((function(e){t-=e.percentage})),t-n.state.splitPercentage<0)alert("The total percentage must be 100%!");else{var a=n.state.splitAccounts;a.push({splitAccountID:n.state.splitAccountID,splitAccount:n.state.splitAccount,percentage:n.state.splitPercentage}),n.setState({splitAccounts:a}),X.a.Modal.getInstance(n.newSplitAccountModal).close()}},n.clearSplitAccounts=function(e){n.setState({splitAccounts:[]})},n.updateSplitAccounts=function(e){e.preventDefault();var t=100;if(n.state.splitAccounts.forEach((function(e){t-=e.percentage})),t>0)alert("The split percentages must add up to 100%!");else{console.log(n.state);var a=n.props.transactions.find((function(e){return e.id===n.state.rowsSelected[0]}));n.props.newSplitAccount(n.state.splitAccounts,a),X.a.Modal.getInstance(n.splitModal).close()}},n.closeModal=function(e){X.a.Modal.getInstance(e).close()},n.checkSelectionForSplit=function(){n.state.rowsSelected.length>1?alert("Please only select one transaction before splitting!"):X.a.Modal.getInstance(n.splitModal).open()},n.columns=[{dataField:"id",hidden:!0},{dataField:"merchant",text:"Merchant",sort:!0},{dataField:"amount",text:"Amount",sort:!0,sortFunc:function(e,t,a){return"desc"===a?e-t:t-e},type:"number"},{dataField:"transactionCategory",text:"Category",sort:!0,formatter:n.categoryFormatter,editor:{type:q.Type.SELECT,getOptions:function(e,t){t.row,t.column;return n.getCategoryOptions()}},editorClasses:"browser-default"},{dataField:"financialAccounts",text:"Account",sort:!0,formatter:n.accountFormatter,editable:!1},{dataField:"transactionDate",text:"Transaction Date",sort:!0,type:"string",editor:{type:q.Type.DATE}}],n.splitAccountColumns=[{dataField:"splitAccountID",hidden:!0},{dataField:"splitAccount",text:"Account",sort:!0},{dataField:"percentage",text:"Percentage"}],n.state={splitAccounts:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t={inDuration:250,outDuration:250,opacity:.5,dismissible:!0,startingTop:"4%",endingTop:"10%"};X.a.Modal.init(this.deleteModal,t),X.a.Modal.init(this.exportModal,t),X.a.Modal.init(this.splitModal,t),X.a.Modal.init(this.newSplitAccountModal,t),this.exportForm=l.a.createRef(),console.log(this.props);var a=new Date;if(a.getMonth()+1<10)var n=a.getFullYear()+"-0"+(a.getMonth()+1)+"-"+a.getDate();else n=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();var r=n.split("-");if(console.log(r[0]),console.log(r[1]),console.log(r[2]),r=r[2]+r[1]+r[0],console.log(parseInt(r)),this.props.payments)for(var o=0;o<this.props.payments.length;o++){var c=this.props.payments[o].date.split("-");if(console.log(c[0]),console.log(c[1]),console.log(c[2]),c=c[2]+c[1]+c[0],console.log(parseInt(c)),console.log("Here"),n===this.props.payments[o].date||parseInt(r)>parseInt(c)){console.log(this.props.payments[o].date);var i={amount:this.props.payments[o].amount,merchant:this.props.payments[o].title,id:this.props.payments[o].id,transactionDate:n,financialAcct:this.props.payments[o].account,transactionCategory:this.props.payments[o].category};if(console.log("Here wanting to create a trans"),this.props.deleting(this.props.payments[o].id),this.props.createTransaction(i,this.props.history),a.getMonth()+1<10)var s=a.getFullYear()+"-0"+(a.getMonth()+2)+"-"+a.getDate();else s=a.getFullYear()+"-"+(a.getMonth()+2)+"-"+a.getDate();e={amount:this.props.payments[o].amount,account:this.props.payments[o].account,category:this.props.payments[o].category,date:s,title:this.props.payments[o].title},console.log(e.date),console.log(this.props.payments[o]),console.log("i",o),this.props.addpayment(e)}}}},{key:"handleSelectRow",value:function(e,t){if(null===this.state||void 0===this.state.rowsSelected){var a=[e];this.setState({rowsSelected:a})}else{var n=this.state.rowsSelected;if(t)n.push(e);else{var l=n.indexOf(e);l>-1&&n.splice(l,1)}this.setState({rowsSelected:n})}}},{key:"render",value:function(){var e,t=this;void 0!==this.props.userFunds&&(e=this.props.userFunds.map((function(e){return{label:e.fundType+": "+e.nickname,value:e.id}})));var a=100;return this.state.splitAccounts.forEach((function(e){a-=e.percentage})),l.a.createElement("div",{className:"container mt"},l.a.createElement("div",{className:"card z-depth-3"},null!=this.props.transactions?l.a.createElement(ve.a,{keyField:"id",data:this.props.transactions,columns:this.columns,search:!0},(function(e){return l.a.createElement("div",null,l.a.createElement(Ce,e.searchProps),l.a.createElement(Se,e.searchProps),l.a.createElement(Y.a,Object.assign({pagination:Q()(we),selectRow:{mode:"checkbox",bgColor:"#68DE11",selectColumnStyle:{backgroundColor:"#68DE11"},onSelect:function(e,a,n,l){t.handleSelectRow(e.id,a)}},defaultSorted:Fe,cellEdit:H()(Oe),noDataIndication:"No Transactions",remote:{cellEdit:!0},onTableChange:t.onTableChange},e.baseProps)))})):null),l.a.createElement(d.b,{to:"/create_transaction",className:"btn green lighten-1 center mt"},"New Transaction"),l.a.createElement(d.b,{to:"/categories",className:"btn modal-trigger green lighten-1 ms-5"},"Manage Categories"),l.a.createElement("button",{"data-target":"exportModal",className:"btn modal-trigger green lighten-1 ms-5"},"Export..."),l.a.createElement("button",{"data-target":"deleteModal",className:"btn modal-trigger green lighten-1"},"Delete..."),l.a.createElement("button",{"data-target":"splitModal",className:"btn green lighten-1 ms-5",onClick:this.checkSelectionForSplit},"Split..."),l.a.createElement("div",null,l.a.createElement("div",{ref:function(e){t.deleteModal=e},id:"deleteModal",className:"modal"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("form",null,l.a.createElement("h4",{className:"grey-text text-darken-3"},"Confirm to delete?"),l.a.createElement("h6",{className:"black-txt"},"This operation is irreversible."),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{className:"modal-close btn red lighten-1",onClick:this.handleDeleteTransactions},"Delete"),l.a.createElement("a",{className:"modal-close btn grey darken-3 white-text",style:{marginLeft:"2%"}},"Cancel")))))),l.a.createElement("div",null,l.a.createElement("div",{ref:function(e){t.exportModal=e},id:"exportModal",className:"modal"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("form",{ref:this.exportForm},l.a.createElement("h4",{className:"grey-text text-darken-3"},"Export Options"),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("input",{className:"with-gap",name:"optionGroup",id:"json",value:"json",type:"radio",onChange:this.handleExportOptionChange,required:!0}),l.a.createElement("span",null,"JSON"))),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("input",{className:"with-gap",name:"optionGroup",id:"csv",value:"csv",onChange:this.handleExportOptionChange,type:"radio"}),l.a.createElement("span",null,"CSV"))),l.a.createElement("button",{id:"export-all",type:"submit",className:"btn green lighten-1",onClick:this.handleExport},"Export All"),l.a.createElement("button",{id:"export-selected",className:"btn green lighten-1 ms-5",onClick:this.handleExport},"Export Selected"),l.a.createElement("a",{className:"modal-close btn grey darken-3 white-text",style:{marginLeft:"2%"}},"Close"),l.a.createElement("div",{className:"form-group"}))))),l.a.createElement("div",null,l.a.createElement("div",{ref:function(e){t.splitModal=e},id:"splitModal",className:"modal",style:{height:"60%",width:"60%"}},l.a.createElement("div",{className:"modal-content"},l.a.createElement(Y.a,{keyField:"splitAccount",data:this.state.splitAccounts,columns:this.splitAccountColumns,defaultSorted:Fe,noDataIndication:"No Account Configured",remote:{cellEdit:!0},onTableChange:this.onTableChange})),l.a.createElement("h6",{style:{margin:"5%"}},"Unallocated Percentage: ",a,"%"),l.a.createElement("button",{className:"btn green lighten-1 ms-5",onClick:this.updateSplitAccounts},"Update"),l.a.createElement("button",{"data-target":"newSplitAccountModal",className:"btn modal-trigger green lighten-1 ms-5",style:{margin:"10%"}},"Add Split"),l.a.createElement("a",{className:"modal-close btn grey darken-3 white-text",style:{marginLeft:"2%"},onClick:this.clearSplitAccounts},"Close"),l.a.createElement("div",null,l.a.createElement("div",{ref:function(e){t.newSplitAccountModal=e},id:"newSplitAccountModal",className:"modal"},l.a.createElement("div",{className:"modal-content",style:{maxHeight:"100%"}},l.a.createElement("form",null,l.a.createElement("h4",{className:"grey-text text-darken-3"},"New Account to Split"),l.a.createElement("div",{className:"form-group"},l.a.createElement(G.a,{className:"funds",name:"funds",onChange:function(e){t.handleSelectChange("splitAccount",e)},options:e}),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"number",id:"splitPercentage",required:!0,style:{marginTop:"5%"},onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"splitPercentage",style:{marginTop:"5%"}},"Percentage")),l.a.createElement("button",{className:"btn green lighten-1",onClick:this.handleNewSplitAccount},"Save"),l.a.createElement("a",{className:"btn grey darken-3 white-text",style:{marginLeft:"2%"},onClick:function(){return t.closeModal(t.newSplitAccountModal)}},"Cancel")))))))),l.a.createElement("div",null,l.a.createElement("div",{ref:function(e){t.exportModal=e},id:"exportModal",className:"modal"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("form",{ref:this.exportForm},l.a.createElement("h4",{className:"grey-text text-darken-3"},"Export Options"),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("input",{className:"with-gap",name:"optionGroup",id:"json",value:"json",type:"radio",onChange:this.handleExportOptionChange,required:!0}),l.a.createElement("span",null,"JSON"))),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("input",{className:"with-gap",name:"optionGroup",id:"csv",value:"csv",onChange:this.handleExportOptionChange,type:"radio"}),l.a.createElement("span",null,"CSV"))),l.a.createElement("button",{id:"export-all",type:"submit",className:"btn green lighten-1",onClick:this.handleExport},"Export All"),l.a.createElement("button",{id:"export-selected",className:"btn green lighten-1 ms-5",onClick:this.handleExport},"Export Selected"),l.a.createElement("a",{className:"modal-close btn grey darken-3 white-text",style:{marginLeft:"2%"}},"Close"),l.a.createElement("div",{className:"form-group"}))))))}}]),a}(n.Component),ke=Object(F.d)(Object(p.b)((function(e){return{transactions:e.firestore.ordered.transactions,auth:e.firebase.auth,userFunds:e.firestore.ordered.userFunds,userCategories:e.firestore.ordered.userCategories,payments:e.firestore.ordered.payments}}),(function(e){return{updateTransaction:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var l=(0,n.getFirestore)(),r=a().firebase.auth.uid,o=l.collection("transactions").doc(r).collection("userTransactions").doc(e.id),c={};if(c[e.dataField]=e.newValue,c.editedAt=new Date,"financialAcct"===e.dataField){var i="",s=0;o.get().then((function(e){i=e.data().financialAcct,s=parseFloat(e.data().amount)})).then((function(){var e=l.collection("funds").doc(i),t=0;e.get().then((function(e){t=parseFloat(e.data().balance)})).then((function(){e.update({balance:t+s})}))})).then((function(){var t=l.collection("funds").doc(e.newValue),a=0;t.get().then((function(e){a=parseFloat(e.data().balance)})).then((function(){t.update({balance:a-s})}))})).then((function(){o.update(c).catch((function(e){console.log("Error getting document:",e)}))}))}else if("amount"===e.dataField){var u,d=0,m="";o.get().then((function(e){d=parseFloat(e.data().amount),u=e.data().financialAccounts,m=e.data().transactionCategory})).then((function(){o.update(c).catch((function(e){console.log("Error getting document:",e)})),u.forEach((function(t){console.log(t);var a=l.collection("funds").doc(t.account),n=0;a.get().then((function(e){n=parseFloat(e.data().balance)})).then((function(){a.update({balance:n+(d-e.newValue)*t.percentage/100})}))}))})).then((function(){l.collection("transactions").doc(r).collection("customCategories").get().then((function(t){t.forEach((function(t){if(t.data().category==m){var a=t.data().spendingTotal,n=parseInt(a)-d;n+=e.newValue,t.ref.update({spendingTotal:n})}}))}))}))}else if("transactionCategory"===e.dataField){console.log("UPDATING CATEGORY");var p=0,h="";o.get().then((function(e){p=parseFloat(e.data().amount),h=e.data().transactionCategory})).then((function(){o.update(c).catch((function(e){console.log("Error getting document:",e)}))})).then((function(){h!=e.newValue&&l.collection("transactions").doc(r).collection("customCategories").get().then((function(e){e.forEach((function(e){if(e.data().category==h){var t=e.data().spendingTotal,a=parseInt(t)-p;e.ref.update({spendingTotal:a})}}))}))})).then((function(){h!=e.newValue&&l.collection("transactions").doc(r).collection("customCategories").get().then((function(t){t.forEach((function(t){if(t.data().category==e.newValue){var a=t.data().spendingTotal,n=parseInt(a)+p;t.ref.update({spendingTotal:n})}}))}))}))}else console.log("UPDATING ELSE"),console.log("field to update"+e.dataField),o.update(c).catch((function(e){console.log("Error getting document:",e)}))}}(t))},deleteTransactions:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var l,r,o,c=(0,n.getFirestore)(),i=a().firebase.auth.uid,s=c.collection("transactions").doc(i).collection("userTransactions");e.forEach((function(e){s.doc(e).get().then((function(e){l=parseFloat(e.data().amount),r=e.data().financialAccounts,o=e.data().transactionCategory})).then((function(){s.doc(e).delete().then((function(){r.forEach((function(e){var t,a=c.collection("funds").doc(e.account);a.get().then((function(e){t=parseFloat(e.data().balance)})).then((function(){a.update({balance:t+l*e.percentage/100})}))}))})).then((function(){c.collection("transactions").doc(i).collection("customCategories").get().then((function(e){e.forEach((function(e){if(e.data().category==o){var t=e.data().spendingTotal,a=parseInt(t)-l;e.ref.update({spendingTotal:a})}}))}))}))}))}))}}(t))},newSplitAccount:function(t,a){return e(function(e,t){return function(a,n,l){l.getFirebase;var r,o=(0,l.getFirestore)(),c=n().firebase.auth.uid,i=(n().firebase.profile,o.collection("transactions").doc(c).collection("userTransactions").doc(t.id));i.get().then((function(e){r=e.data()})).then((function(){var a=r.financialAccounts.map((function(a){var n=o.collection("funds").doc(a.account);return n.get().then((function(l){var r={balance:l.data().balance+a.percentage/100*t.amount};return console.log(e),console.log(r),n.update(r)}))}));Promise.all(a).then((function(){e=e.map((function(e){return{account:e.splitAccountID,percentage:e.percentage}})),i.update({financialAccounts:e}),e.forEach((function(e){console.log(e);var a=o.collection("funds").doc(e.account);a.get().then((function(n){console.log(n.data());var l={balance:n.data().balance-e.percentage/100*t.amount};console.log(l),a.update(l)}))}))}))})).catch((function(e){a("UPDATE_SPLIT_ACCOUNT_ERR",e)}))}}(t,a))},deleting:function(t){e(Ne(t))},addpayment:function(t){e(ye(t))},createTransaction:function(t,a){return e(be(t,a))}}})),Object(w.firestoreConnect)((function(e){return"undefined"!=typeof e.auth.uid?[{collection:"transactions",doc:e.auth.uid,subcollections:[{collection:"customCategories"}],storeAs:"userCategories"},{collection:"funds",where:[["uid","==",e.auth.uid]],storeAs:"userFunds"},{collection:"transactions",doc:e.auth.uid,subcollections:[{collection:"userTransactions"}],storeAs:"transactions"}]:[]})))(Ae),Te=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(T.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),void 0===n.state.transactionCategory?alert("Please select a category!"):void 0===n.state.financialAcct?alert("Please select a financial account! If no account is available, please add one in Financials page"):"Financial Aid"===n.state.fundType?"Tuition"===n.state.transactionCategory||"Room & Board"===n.state.transactionCategory?(n.props.createTransaction(n.state,n.props.history),n.props.largeTransactionAlert(n.state),n.props.lowBalanceAlert(n.state)):alert("Financial Aid must go towards Tuition or Room and Board!!"):(n.props.createTransaction(n.state,n.props.history),n.props.largeTransactionAlert(n.state),n.props.lowBalanceAlert(n.state))},n.handleCategoryChange=function(e){n.setState({transactionCategory:e.value})},n.handleFinancialAcctChange=function(e){var t,a,l,r=n.props.userFunds.find((function(t){return t.id===e.value}));t=r.balance,a=r.fundType,l=r.nickname,n.setState({financialAcct:e.value,acctBalance:t,fundType:a,nickName:l}),console.log(n.state)},n.handleNewCustomCategory=function(e){e.preventDefault(),n.props.newCustomCategory(n.state["new-category"],n.state["category-limit"]),n.setState({"new-category":"","category-limit":""})},n.state={},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){X.a.Modal.init(this.newCategoryModal,{inDuration:250,outDuration:250,opacity:.5,dismissible:!0,startingTop:"4%",endingTop:"10%"})}},{key:"render",value:function(){var e=this,t=[],a=[];return void 0!==this.props.userFunds?this.props.userFunds.forEach((function(e){var a={},n=e.nickname+" "+e.fundType+", Balance: $"+e.balance,l=e.id;a.label=n,a.value=l,t.push(a)})):t=[{value:"",label:"loading..."}],void 0!==this.props.categories?this.props.categories.forEach((function(e){var t={},n=e.category,l=e.category;t.label=n,t.value=l,a.push(t)})):a=[{value:"",label:"loading..."}],l.a.createElement("div",{className:"container"},l.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Create New Transaction"),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"number",id:"amount",required:!0,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"amount"},"Amount")),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"date",id:"transactionDate",required:!0,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"transactionDate"},"Date")),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"text",id:"merchant",required:!0,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"merchant"},"Merchant")),l.a.createElement("div",{className:"input-field"},l.a.createElement(G.a,{className:"transactionCategory",name:"transactionCategory",placeholder:"Category",options:a,onChange:this.handleCategoryChange})),l.a.createElement("button",{"data-target":"newCategoryModal",className:"btn modal-trigger green lighten-1"},"New Category"),l.a.createElement("div",null,l.a.createElement("div",{ref:function(t){e.newCategoryModal=t},id:"newCategoryModal",className:"modal"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("form",null,l.a.createElement("h4",{className:"grey-text text-darken-3"},"New Custom Category"),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"text",id:"new-category",required:!0,onChange:this.handleChange,value:this.state["new-category"]}),l.a.createElement("label",{htmlFor:"new-category"},"Category Name")),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"number",id:"category-limit",required:!0,onChange:this.handleChange,value:this.state["category-limit"],min:"0"}),l.a.createElement("label",{htmlFor:"category-limit"},"Spending Limit")),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{className:"modal-close btn green lighten-1",onClick:this.handleNewCustomCategory},"Save"),l.a.createElement("a",{className:"modal-close btn grey darken-3 white-text",style:{marginLeft:"2%"}},"Cancel")))))),l.a.createElement("div",{className:"input-field"},l.a.createElement(G.a,{className:"financialAccount",name:"financialAccount",placeholder:"Financial Account",options:t,onChange:this.handleFinancialAcctChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green lighten-1"},"Create"),l.a.createElement(d.b,{to:"/transactions",className:"btn grey darken-3 white-text",style:{marginLeft:"2%"}},"Close"))))}}]),a}(n.Component),xe=Object(F.d)(Object(p.b)((function(e){return{auth:e.firebase.auth,userFunds:e.firestore.ordered.userFunds,categories:e.firestore.ordered.categories}}),(function(e){return{createTransaction:function(t,a){return e(be(t,a))},newCustomCategory:function(t,a){return e(function(e,t){return function(a,n,l){l.getFirebase;var r=(0,l.getFirestore)(),o=n().firebase.auth.uid,c=n().firebase.profile,i=r.collection("transactions").doc(o);i.get().then((function(a){a.exists||i.set({owner:c.firstName+" "+c.lastName}),(i=i.collection("customCategories")).add({category:e,createdAt:new Date,editedAt:new Date,limit:t})})).catch((function(e){console.log("Error getting document:",e)}))}}(t,a))},largeTransactionAlert:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var l,r=(0,n.getFirestore)(),o=a().firebase.auth.uid,c=void 0;r.collection("funds").doc(e.financialAcct).get().then((function(t){if(t.exists){if(l=parseInt(t.data().largeTransactionLimit),c=t.data().balance,console.log("large transaction limit first: "+l),parseInt(e.amount)>=parseInt(l)){var a=r.collection("alerts").doc(o);a.get().then((function(e){e.exists||a.set({userID:o})})),a.collection("userAlerts").add({fund:e.nickName,amount:e.amount,limit:l,fundBalance:c,alertType:"LARGE TRANSACTION"})}}else console.log("error retrieving doc in largeTransactionAlert")})).catch((function(e){console.log("Error getting doc:",e)}))}}(t))},lowBalanceAlert:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var l=(0,n.getFirestore)(),r=void 0,o=void 0,c=a().firebase.auth.uid;l.collection("funds").doc(e.financialAcct).get().then((function(t){if(t.exists){if(r=t.data().lowBalanceLimit,o=t.data().balance,console.log("Low balance: "+r),console.log("FundBalance: "+o),parseInt(o)<=parseInt(r)){var a=l.collection("alerts").doc(c);a.get().then((function(e){e.exists||a.set({userID:c})})),a.collection("userAlerts").add({fund:e.nickName,amount:e.amount,limit:r,fundBalance:o,alertType:"LOW BALANCE"})}}else console.log("error retrieving doc in lowBalanceAlert")})).catch((function(e){console.log("Error getting doc:",e)}))}}(t))}}})),Object(w.firestoreConnect)((function(e){return"undefined"!=typeof e.auth.uid?[{collection:"funds",where:[["uid","==",e.auth.uid]],storeAs:"userFunds"},{collection:"transactions",doc:e.auth.uid,subcollections:[{collection:"customCategories"}],storeAs:"categories"}]:[]})))(Te),je=a(32),De=a.n(je),Re=a(114),Ie=a.n(Re),Me=a(115),Pe=a.n(Me),Le=a(116),_e=a.n(Le);a(543);De.a.fcRoot(Ie.a,Pe.a,_e.a);var Be=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.transactions,t=(new Map,new Map,new Array);t[0]="months",t[1]="January",t[2]="February",t[3]="March",t[4]="April",t[5]="May",t[6]="June",t[7]="July",t[8]="August",t[9]="September",t[10]="October",t[11]="November",t[12]="December";var a=[{label:"1",value:0},{label:"2",value:0},{label:"3",value:0},{label:"4",value:0},{label:"5",value:0},{label:"6",value:0},{label:"7",value:0},{label:"8",value:0},{label:"9",value:0},{label:"10",value:0},{label:"11",value:0},{label:"12",value:0},{label:"13",value:0},{label:"14",value:0},{label:"15",value:0},{label:"16",value:0},{label:"17",value:0},{label:"18",value:0},{label:"19",value:0},{label:"20",value:0},{label:"21",value:0},{label:"22",value:0},{label:"23",value:0},{label:"24",value:0},{label:"25",value:0},{label:"26",value:0},{label:"27",value:0},{label:"28",value:0},{label:"29",value:0},{label:"30",value:0},{label:"31",value:0}],n=[{label:"January",value:0},{label:"Feburary",value:0},{label:"March",value:0},{label:"April",value:0},{label:"May",value:0},{label:"June",value:0},{label:"July",value:0},{label:"August",value:0},{label:"September",value:0},{label:"October",value:0},{label:"November",value:0},{label:"December",value:0}],r=[{label:"Week1",value:0},{label:"Week2",value:0},{label:"Week3",value:0},{label:"Week4",value:0}],o=new Date,c=o.getMonth(),i=o.getFullYear();if(console.log(i),void 0!=e){console.log(e);for(var s=0;s<e.length;s++){var u=this.props.transactions[s].transactionDate;console.log(u);var m=u.split("/");console.log(m),void 0!=m[0]&&0==m[0].charAt(0)&&(m[0]=m[0].charAt(1));var p=t[m[0]]+" "+m[1]+", "+m[2],h=new Date(p.toString());h.getDay();console.log(m[0]),console.log(m[1]),console.log(m[2]),t[c+1]==t[m[0]]&&(a[m[1]-1].value+=parseInt(e[s].amount)),i==m[2]&&(n[h.getMonth()].value+=parseInt(e[s].amount)),console.log(m[1]),t[c+1]==t[m[0]]&&(m[1]-1<8?r[0].value+=parseInt(e[s].amount):m[1]-1>8&&m[1]-1<15?r[1].value+=parseInt(e[s].amount):m[1]-1>15&&m[1]-1<22?r[2].value+=parseInt(e[s].amount):r[3].value+=parseInt(e[s].amount))}}this.props.transactions;var f={type:"line",width:"700",height:"400",dataFormat:"json",dataSource:{chart:{caption:"This Months Spending by Day",subCaption:"",xAxisName:"Day",yAxisName:"Dollars",numberSuffix:"",exportEnabled:"1",theme:"fusion"},data:a}},g={type:"line",width:"700",height:"400",dataFormat:"json",dataSource:{chart:{caption:"This Months Spending by Week",subCaption:"",xAxisName:"Week",yAxisName:"Dollars",numberSuffix:"",exportEnabled:"1",theme:"fusion"},data:r}},b={type:"line",width:"700",height:"400",dataFormat:"json",dataSource:{chart:{caption:"This Years Spending by Month",subCaption:"",xAxisName:"Month",yAxisName:"Dollars",numberSuffix:"",exportEnabled:"1",theme:"fusion"},data:n}};return l.a.createElement("div",{className:"visualizations2"},l.a.createElement("div",{className:"chart2"},l.a.createElement(De.a,f),");"),l.a.createElement("div",{className:"chart2"},l.a.createElement(De.a,g),");"),l.a.createElement("div",{className:"chart2"},l.a.createElement(De.a,b),");"),l.a.createElement(d.b,{to:"/pastVisualizations",className:"btn btn -floating green lighten-1"},"Past Spending"))}}]),a}(l.a.Component),Ue=Object(F.d)(Object(p.b)((function(e){return{transactions:e.firestore.ordered.transactions,auth:e.firebase.auth}})),Object(w.firestoreConnect)((function(e){return"undefined"!=typeof e.auth.uid?[{collection:"transactions",doc:e.auth.uid,subcollections:[{collection:"userTransactions"}],storeAs:"transactions"}]:[]})))(Be);a(544),a(545);De.a.fcRoot(Ie.a,Pe.a,_e.a);var ze=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.transactions,t=(new Map,new Map,new Array);t[0]="months",t[1]="January",t[2]="February",t[3]="March",t[4]="April",t[5]="May",t[6]="June",t[7]="July",t[8]="August",t[9]="September",t[10]="October",t[11]="November",t[12]="December";var a=[{label:"1",value:0},{label:"2",value:0},{label:"3",value:0},{label:"4",value:0},{label:"5",value:0},{label:"6",value:0},{label:"7",value:0},{label:"8",value:0},{label:"9",value:0},{label:"10",value:0},{label:"11",value:0},{label:"12",value:0},{label:"13",value:0},{label:"14",value:0},{label:"15",value:0},{label:"16",value:0},{label:"17",value:0},{label:"18",value:0},{label:"19",value:0},{label:"20",value:0},{label:"21",value:0},{label:"22",value:0},{label:"23",value:0},{label:"24",value:0},{label:"25",value:0},{label:"26",value:0},{label:"27",value:0},{label:"28",value:0},{label:"29",value:0},{label:"30",value:0},{label:"31",value:0}],n=[{label:"January",value:0},{label:"Feburary",value:0},{label:"March",value:0},{label:"April",value:0},{label:"May",value:0},{label:"June",value:0},{label:"July",value:0},{label:"August",value:0},{label:"September",value:0},{label:"October",value:0},{label:"November",value:0},{label:"December",value:0}],r=[{label:"Week1",value:0},{label:"Week2",value:0},{label:"Week3",value:0},{label:"Week4",value:0}],o=new Date,c=o.getMonth(),i=o.getFullYear();if(console.log(i),void 0!=e){console.log(e);for(var s=0;s<e.length;s++){var u=this.props.transactions[s].transactionDate;console.log(u);var m=u.split("/");console.log(m),void 0!=m[0]&&0==m[0].charAt(0)&&(m[0]=m[0].charAt(1));var p=t[m[0]]+" "+m[1]+", "+m[2];(C=new Date(p.toString())).getDay();console.log(i-1),console.log(m[2]),(t[c]==t[m[0]]||12==t[c+1]&&0==t[m[0]-1])&&(a[m[1]-1].value+=parseInt(e[s].amount)),i-1==m[2]&&(n[C.getMonth()].value+=parseInt(e[s].amount)),t[c]==t[m[0]]&&(m[1]-1<8?r[0].value+=parseInt(e[s].amount):m[1]-1>8&&m[1]-1<15?r[1].value+=parseInt(e[s].amount):m[1]-1>15&&m[1]-1<22?r[2].value+=parseInt(e[s].amount):r[3].value+=parseInt(e[s].amount))}}this.props.transactions;var h={type:"line",width:"700",height:"400",dataFormat:"json",dataSource:{chart:{caption:"Last Months Spending by Day",subCaption:"",xAxisName:"Day",yAxisName:"Dollars",numberSuffix:"",exportEnabled:"1",theme:"fusion"},data:a}},f={type:"line",width:"700",height:"400",dataFormat:"json",dataSource:{chart:{caption:"Last Months Spending by Week",subCaption:"",xAxisName:"Week",yAxisName:"Dollars",numberSuffix:"",exportEnabled:"1",theme:"fusion"},data:r}},g={type:"line",width:"700",height:"400",dataFormat:"json",dataSource:{chart:{caption:"Last Years Spending by Month",subCaption:"",xAxisName:"Month",yAxisName:"Dollars",numberSuffix:"",exportEnabled:"1",theme:"fusion"},data:n}},b=[{label:"1",value:0},{label:"2",value:0},{label:"3",value:0},{label:"4",value:0},{label:"5",value:0},{label:"6",value:0},{label:"7",value:0},{label:"8",value:0},{label:"9",value:0},{label:"10",value:0},{label:"11",value:0},{label:"12",value:0},{label:"13",value:0},{label:"14",value:0},{label:"15",value:0},{label:"16",value:0},{label:"17",value:0},{label:"18",value:0},{label:"19",value:0},{label:"20",value:0},{label:"21",value:0},{label:"22",value:0},{label:"23",value:0},{label:"24",value:0},{label:"25",value:0},{label:"26",value:0},{label:"27",value:0},{label:"28",value:0},{label:"29",value:0},{label:"30",value:0},{label:"31",value:0}],E=[{label:"January",value:0},{label:"Feburary",value:0},{label:"March",value:0},{label:"April",value:0},{label:"May",value:0},{label:"June",value:0},{label:"July",value:0},{label:"August",value:0},{label:"September",value:0},{label:"October",value:0},{label:"November",value:0},{label:"December",value:0}],v=[{label:"Week1",value:0},{label:"Week2",value:0},{label:"Week3",value:0},{label:"Week4",value:0}];if(console.log(i),void 0!=e){console.log(e);for(var y=0;y<e.length;y++){var N=this.props.transactions[y].transactionDate;console.log(N);m=N.split("/");console.log(m),void 0!=m[0]&&0==m[0].charAt(0)&&(m[0]=m[0].charAt(1));var C;p=t[m[0]]+" "+m[1]+", "+m[2],(C=new Date(p.toString())).getDay();console.log(m[0]),console.log(m[1]),console.log(m[2]),t[c+1]==t[m[0]]&&(b[m[1]-1].value+=parseInt(e[y].amount)),i==m[2]&&(E[C.getMonth()].value+=parseInt(e[y].amount)),console.log(m[1]),t[c+1]==t[m[0]]&&(m[1]-1<8?v[0].value+=parseInt(e[y].amount):m[1]-1>8&&m[1]-1<15?v[1].value+=parseInt(e[y].amount):m[1]-1>15&&m[1]-1<22?v[2].value+=parseInt(e[y].amount):v[3].value+=parseInt(e[y].amount))}}this.props.transactions;var S={type:"line",width:"700",height:"400",dataFormat:"json",dataSource:{chart:{caption:"This Months Spending by Day",subCaption:"",xAxisName:"Day",yAxisName:"Dollars",numberSuffix:"",exportEnabled:"1",theme:"fusion"},data:b}},w={type:"line",width:"700",height:"400",dataFormat:"json",dataSource:{chart:{caption:"This Months Spending by Week",subCaption:"",xAxisName:"Week",yAxisName:"Dollars",numberSuffix:"",exportEnabled:"1",theme:"fusion"},data:v}},F={type:"line",width:"700",height:"400",dataFormat:"json",dataSource:{chart:{caption:"This Years Spending by Month",subCaption:"",xAxisName:"Month",yAxisName:"Dollars",numberSuffix:"",exportEnabled:"1",theme:"fusion"},data:E}};return l.a.createElement("div",{className:"visualizations"},l.a.createElement("div",{className:"float-container"},l.a.createElement("div",{className:"chart"},l.a.createElement(De.a,h),");"),l.a.createElement("div",{className:"chart"},l.a.createElement(De.a,S),");")),l.a.createElement("div",{className:"float-container"},l.a.createElement("div",{className:"chart"},l.a.createElement(De.a,f),");"),l.a.createElement("div",{className:"chart"},l.a.createElement(De.a,w),");")),l.a.createElement("div",{className:"float-container"},l.a.createElement("div",{className:"chart"},l.a.createElement(De.a,g),");"),l.a.createElement("div",{className:"chart"},l.a.createElement(De.a,F),");")),l.a.createElement(d.b,{to:"/Visualizations",className:"btn btn -floating green lighten-1"},"Current Spending"))}}]),a}(l.a.Component),Ge=Object(F.d)(Object(p.b)((function(e){return{transactions:e.firestore.ordered.transactions,auth:e.firebase.auth}})),Object(w.firestoreConnect)((function(e){return"undefined"!=typeof e.auth.uid?[{collection:"transactions",doc:e.auth.uid,subcollections:[{collection:"userTransactions"}],storeAs:"transactions"}]:[]})))(ze),Je=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={email:""},e.handleChange=function(t){e.setState(Object(T.a)({},t.target.id,t.target.value))},e.handelSubmit=function(t){t.preventDefault(),e.props.googleLogin(e.state.email),e.props.history.push("/SignIn")},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;e.auth;return l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handelSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Login with Google"),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green lighten-1 z-depth-0"},"Login"),l.a.createElement("div",{className:"red-text center"},t?l.a.createElement("p",null,t):null))))}}]),a}(n.Component),We=Object(p.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{googleLogin:function(t){return e((function(e,t,a){var n=(0,a.getFirebase)(),l=new n.auth.GoogleAuthProvider;n.auth().signInWithPopup(l).then((function(e){e.credential.accessToken,e.user})).catch((function(e){e.code,e.message,e.email,e.credential}))}))}}}))(Je),Ve=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(T.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){if(console.log("category: "+n.state.transactionCategory),void 0===n.state.transactionCategory)alert("Please select a category!");else{var t=[];void 0!==n.props.transactions&&n.props.transactions.forEach((function(e){t.push(e.transactionCategory)})),t.includes(n.state.transactionCategory)?alert("Deletion Error - Transaction Exists with Category!"):n.props.deleteCustomCategories(n.state.transactionCategory)}},n.handleCategoryChange=function(e){n.setState({transactionCategory:e.value})},n.state={},n}return Object(i.a)(a,[{key:"render",value:function(){var e=[],t=[];return void 0!==this.props.categories?this.props.categories.forEach((function(t){var a={},n=t.category,l=t.category;a.label=n,a.value=l,e.push(a)})):e=[{value:"",label:"loading..."}],void 0!==this.props.transactions&&this.props.transactions.forEach((function(e){t.push(e.transactionCategory)})),l.a.createElement("div",{className:"container"},l.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"input-field"},l.a.createElement("h3",null,"Manage Categories"),l.a.createElement(G.a,{placeholder:"Category",options:e,onChange:this.handleCategoryChange})),l.a.createElement("button",{className:"btn modal-trigger green lighten-1"},"Delete Category"),l.a.createElement(d.b,{to:"/transactions",className:"btn grey darken-3 white-text",style:{marginLeft:"2%"}},"Close")))}}]),a}(n.Component),Ke=Object(F.d)(Object(p.b)((function(e){return{auth:e.firebase.auth,transactions:e.firestore.ordered.transactions,categories:e.firestore.ordered.categories}}),(function(e){return{deleteCustomCategories:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var l=(0,n.getFirestore)(),r=a().firebase.auth.uid,o=l.collection("transactions").doc(r).collection("customCategories");console.log("------------------------ RUNNING -------------------------"),o.get().then((function(t){t.forEach((function(t){t.data().category==e&&t.ref.delete()}))}))}}(t))}}})),Object(w.firestoreConnect)((function(e){return"undefined"!=typeof e.auth.uid?[{collection:"transactions",doc:e.auth.uid,subcollections:[{collection:"userTransactions"}],storeAs:"transactions"},{collection:"transactions",doc:e.auth.uid,subcollections:[{collection:"customCategories"}],storeAs:"categories"}]:[]})))(Ve),Ye=Object(F.d)(Object(p.b)(null,(function(e){return{deleting:function(t){e(Ne(t))}}})))((function(e){var t=e.data;if(t){var a=t.map((function(t){return l.a.createElement("div",{className:"container section project-details"},l.a.createElement("div",{className:"card z-depth-0",id:t.id},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title"},t.title),l.a.createElement("h4",{style:{fontSize:"30px"}},"Amount"),l.a.createElement("p",{style:{fontSize:"20px"}},t.amount),l.a.createElement("h4",{style:{fontSize:"30px"}},"Date"),l.a.createElement("p",{style:{fontSize:"20px"}},t.date)),l.a.createElement("div",{className:" card-action.grey.lighten-4 grey-text"},l.a.createElement("div",null,"Posted by ",t.owner),l.a.createElement("div",null,N()(t.createdAt.toDate()).calendar()))),l.a.createElement("button",{onClick:function(){var a;a=t.id,e.deleting(a)}},"Delete"))}));return l.a.createElement("div",null,a)}return l.a.createElement("div",{className:"container center"},l.a.createElement("p",null,"Loading memo..."))})),qe=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={title:"",amount:"",account:"",category:"",date:""},e.handleCategoryChange=function(t){e.setState({category:t.value})},e.handleChange=function(t){e.setState(Object(T.a)({},t.target.id,t.target.value))},e.handleFinancialAcctChange=function(t){for(var a=0,n=0;n<e.props.userFunds.length;n++)if(e.props.userFunds[n].id===t.value){a=e.props.userFunds[n].balance;break}e.setState({account:t.value,acctBalance:a})},e.handelSubmit=function(t){t.preventDefault(),e.setState(Object(I.a)({},e.state,{nickname:e.state.title})),e.props.addpayment(e.state),e.setState({title:"",amount:"",account:"",date:"",category:""}),window.alert("Your Recurring Payment is going to start from the next date.")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){X.a.Modal.init(this.newCategoryModal,{inDuration:250,outDuration:250,opacity:.5,dismissible:!0,startingTop:"4%",endingTop:"10%"})}},{key:"render",value:function(){var e=this;console.log(this.props);var t=void 0;void 0!==this.props.payments&&(t=this.props.payments.filter((function(t){return e.props.auth.uid===t.uid})));var a=[],n=[];return void 0!==this.props.userFunds?this.props.userFunds.forEach((function(e){var t={},n=e.nickname+" "+e.fundType+", Balance: $"+e.balance,l=e.id;t.label=n,t.value=l,a.push(t)})):a=[{value:"",label:"loading..."}],void 0!==this.props.categories?this.props.categories.forEach((function(e){var t={},a=e.category,l=e.category;t.label=a,t.value=l,n.push(t)})):n=[{value:"",label:"loading..."}],l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handelSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Payments"),l.a.createElement("div",{id:"title",className:"input-field"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange,value:this.state.title})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"amount"},"Amount"),l.a.createElement("textarea",{id:"amount",className:"materialize-textarea",onChange:this.handleChange,value:this.state.amount,required:!0})),l.a.createElement("div",{className:"input-field"},l.a.createElement(G.a,{className:"financialAccount",name:"financialAccount",placeholder:"Financial Account",options:a,onChange:this.handleFinancialAcctChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"date",id:"date",required:!0,onChange:this.handleChange,value:this.state.date}),l.a.createElement("label",{htmlFor:"transactionDate"},"Date")),l.a.createElement("div",{className:"input-field"},l.a.createElement(G.a,{className:"transactionCategory",name:"transactionCategory",placeholder:"Category",options:n,onChange:this.handleCategoryChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green lighten-1 z-depth-0"},"Create"))),l.a.createElement(Ye,{data:t}))}}]),a}(n.Component),He=Object(F.d)(Object(p.b)((function(e){return{payments:e.firestore.ordered.payments,funds:e.firestore.ordered.funds,transactions:e.firestore.ordered.transactions,categories:e.firestore.ordered.categories,userFunds:e.firestore.ordered.userFunds,auth:e.firebase.auth}}),(function(e){return{addpayment:function(t){e(ye(t))},editFund:function(t){e(z(t))},createTransaction:function(t,a){return e(be(t,a))}}})),Object(w.firestoreConnect)((function(e){return"undefined"!=typeof e.auth.uid?[{collection:"payments",where:["uid","==",e.auth.uid]},{collection:"funds",where:[["uid","==",e.auth.uid]],storeAs:"userFunds"},{collection:"transactions",doc:e.auth.uid,subcollections:[{collection:"userTransactions"}],storeAs:"transactions"},{collection:"transactions",doc:e.auth.uid,subcollections:[{collection:"customCategories"}],storeAs:"categories"}]:[]})))(qe),$e=Object(F.d)(Object(p.b)(null,(function(e){return{}})))((function(e){var t=e.alert;return t?l.a.createElement("div",{className:"card-content",color:"white"},l.a.createElement("h4",null,t.alertType),l.a.createElement("p",null,"Category: ",t.category,", Amount: ",t.amount,", Category Limit: ",t.limit,", Total Category Expenditures: ",t.catSpent)):l.a.createElement("div",{className:"container center"},l.a.createElement("p",null,"Can't render category alert"))})),Qe=Object(F.d)(Object(p.b)(null,(function(e){return{}})))((function(e){var t=e.alert;return t?l.a.createElement("div",{className:"card-content"},l.a.createElement("h4",null,t.alertType),l.a.createElement("p",null,"Fund: ",t.fund,", Amount: ",t.amount,", Fund Limit: ",t.limit,", Fund Balance: ",t.fundBalance)):l.a.createElement("div",{className:"container center"},l.a.createElement("p",null,"Can't render other alert"))})),Ze=Object(F.d)(Object(p.b)(null,(function(e){return{deleteAlert:function(t){var a;e((a=t,function(e,t,n){n.getFirebase;var l=(0,n.getFirestore)(),r=t().firebase.auth.uid.toString();l.collection("alerts").doc(r).collection("userAlerts").doc(a).delete().then((function(){e({type:"DELETE_ALERT",docID:a})})).catch((function(t){e({type:"DELETE_ALERT_ERR"},t)}))}))}}})))((function(e){var t=e.alerts;if(t){var a=t.map((function(t){return l.a.createElement("div",{className:"white"},l.a.createElement("div",{className:"cardz-depth-0",id:t.id},"CATEGORY SPENDING ALERT"==t.alertType?l.a.createElement($e,{alert:t}):l.a.createElement(Qe,{alert:t})),l.a.createElement("button",{onClick:function(){var a;a=t.id,e.deleteAlert(a)}},"Delete Alert"))}));return l.a.createElement("div",null,a)}return l.a.createElement("div",{className:"container center"},l.a.createElement("p",null,"No Alerts to Show"))})),Xe=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e;return this.props.auth.uid?(void 0!=this.props.alerts&&(e=this.props.alerts),l.a.createElement("div",{className:"container"},null!=this.props.alerts?l.a.createElement(Ze,{alerts:e}):console.log("not rendering"))):l.a.createElement(m.a,{to:"/signin"})}}]),a}(n.Component),et=Object(F.d)(Object(p.b)((function(e){return{alerts:e.firestore.ordered.alerts,auth:e.firebase.auth}}),(function(e){return{}})),Object(w.firestoreConnect)((function(e){return"undefined"!=typeof e.auth.uid?[{collection:"alerts",doc:e.auth.uid,subcollections:[{collection:"userAlerts"}],storeAs:"alerts"}]:[]})))(Xe),tt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(E,null),l.a.createElement(m.d,null,l.a.createElement(m.b,{exact:!0,path:"/",component:A}),l.a.createElement(m.b,{path:"/project/:id",component:k}),l.a.createElement(m.b,{path:"/signin",component:j}),l.a.createElement(m.b,{path:"/signup",component:R}),l.a.createElement(m.b,{path:"/create",component:P}),l.a.createElement(m.b,{path:"/financials",component:ae}),l.a.createElement(m.b,{path:"/transactions",component:ke}),l.a.createElement(m.b,{path:"/create_transaction",component:xe}),l.a.createElement(m.b,{path:"/profile",component:_}),l.a.createElement(m.b,{path:"/createFund",component:W}),l.a.createElement(m.b,{path:"/reset",component:le}),l.a.createElement(m.b,{path:"/memos",component:ce}),l.a.createElement(m.b,{path:"/messages",component:me}),l.a.createElement(m.b,{path:"/visualizations",component:Ue}),l.a.createElement(m.b,{path:"/pastVisualizations",component:Ge}),l.a.createElement(m.b,{path:"/payments",component:He}),l.a.createElement(m.b,{path:"/google",component:We}),l.a.createElement(m.b,{path:"/categories",component:Ke}),l.a.createElement(m.b,{path:"/alerts",component:et}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var at={authError:null},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(I.a)({},e,{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(I.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(I.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(I.a)({},e,{authError:t.err.message});default:return e}},lt={projects:[{id:"1",title:"something something 1",content:"blah blah blah 1"},{id:"2",title:"something something 2",content:"blah blah blah 2"},{id:"3",title:"something something 3",content:"blah blah blah 3"}]},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROJECT":return console.log("created project",t.project),e;case"CREATE_PROJECT_ERROR":return console.log("create project eror",t.err),e;default:return e}},ot=a(61),ct={userProfile:[{placeholder:"placeholder"}]},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SUCCESSFUL":return console.log("created project",t.project),e;case"UPDATE_ERROR":return console.log("create project eror",t.err),e;default:return e}},st={funds:[{placeholder:"placeholder"}]},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_FUND":return console.log("created project",t.fund),e;case"CREATE_FUND_ERROR":return console.log("create project err",t.err),e;default:return e}},dt={memos:[{mem_title:"Haider",content:"Haider is the best"},{mem_title:"Pay the electric bill",content:"Please do it I want electricity"}]},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;return"CREATE_MEM"===t.type?(console.log("Memo Created"),e):"DELTE_MEM_DOC"===t.type?(console.log("Memo Deleted"),e):e},pt={supportTickets:[{content:"I love pineapples expressly",email:"sethrogen@collegecap.org"},{content:"There is pizza on my pants",email:"jonahhill@collegecap.org"}]},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_TICKET":return console.log("created ticket",t.newMsg),e;case"CREATE_TICKET_ERR":return console.log("create transaction err",t.err),e;case"CLOSE_TICKET":return console.log("close ticket",t.docID),e;case"CLOSE_TICKET_ERR":return console.log("close ticket err",t.err),e;default:return e}},ft={transactions:[{placeholder:"placeholder"}]},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_TRANSACTION":return console.log("created transaction",t.transaction),e;case"CREATE_TRANSACTION_ERROR":return console.log("create transaction err",t.err),e;default:return e}},bt=[],Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STOCK":return t.stock;case"GET_STOCK_ERR":return alert("Failed to get stock info! "+t.err),e;default:return e}},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FAV_STOCK_PRICES":return t.favStockPrices;case"GET_FAV_STOCK_ERR":return alert("Failed to get stock info! "+t.err),e;default:return e}},yt=Object(F.c)({auth:nt,project:rt,userProfile:it,firestore:ot.firestoreReducer,firebase:w.firebaseReducer,fund:ut,memo:mt,messages:ht,transaction:gt,stock:Et,favStockPrices:vt}),Nt=a(291),Ct=a(62),St=a.n(Ct);a(622),a(625);St.a.initializeApp({apiKey:"AIzaSyDHxQtPVGZMWlhUm5jW6j2ix4YbrbmC420",authDomain:"college-capital-ed06f.firebaseapp.com",databaseURL:"https://college-capital-ed06f.firebaseio.com",projectId:"college-capital-ed06f",storageBucket:"college-capital-ed06f.appspot.com",messagingSenderId:"244905517245",appId:"1:244905517245:web:70109dddc6f307b99697d4",measurementId:"G-Z51D5JH30Y"});var wt=St.a,Ft=Object(F.e)(yt,Object(F.d)(Object(F.a)(Nt.a.withExtraArgument({getFirestore:ot.getFirestore,getFirebase:w.getFirebase})),Object(ot.reduxFirestore)(St.a,wt))),Ot={firebase:St.a,config:{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0},dispatch:Ft.dispatch,createFirestoreInstance:ot.createFirestoreInstance};o.a.render(l.a.createElement(p.a,{store:Ft},l.a.createElement(w.ReactReduxFirebaseProvider,Ot,l.a.createElement(tt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[293,1,2]]]);
//# sourceMappingURL=main.18c7229c.chunk.js.map